import{S as e,i as t,s as a,P as s,e as l,c as n,a as r,d as o,b as i,a7 as c,f as $,J as u,R as g,T as m,U as f,x as p,u as d,t as h,k as v,g as x,n as b,D as P,h as C,a2 as k,a8 as y,E as w,Y as S,V as E,a9 as j,j as _,m as V,o as D,v as I,L as H,aa as R,ab as A,r as L,w as N}from"./vendor-1a5a643c.js";import{g as T}from"./navigation-51f4a605.js";import{S as O,F as U}from"./SearchHeading-fc49bab8.js";import{R as F}from"./index-957ec836.js";import{l as J}from"./api-01f7392a.js";function M(e){let t,a,h,v;const x=e[4].default,b=s(x,e,e[3],null);return{c(){t=l("div"),b&&b.c(),this.h()},l(e){t=n(e,"DIV",{class:!0});var a=r(t);b&&b.l(a),a.forEach(o),this.h()},h(){i(t,"class","flex justify-center items-center rounded-full border-gray-400"),c(t,"text-xl",e[1]),c(t,"text-4xl",!e[1]),c(t,"text-gray-500",e[0]),c(t,"cursor-pointer",!e[0]),c(t,"active:text-pink-500",!e[0])},m(s,l){$(s,t,l),b&&b.m(t,null),a=!0,h||(v=u(t,"click",e[5]),h=!0)},p(e,[s]){b&&b.p&&(!a||8&s)&&g(b,x,e,e[3],a?f(x,e[3],s,null):m(e[3]),null),2&s&&c(t,"text-xl",e[1]),2&s&&c(t,"text-4xl",!e[1]),1&s&&c(t,"text-gray-500",e[0]),1&s&&c(t,"cursor-pointer",!e[0]),1&s&&c(t,"active:text-pink-500",!e[0])},i(e){a||(p(b,e),a=!0)},o(e){d(b,e),a=!1},d(e){e&&o(t),b&&b.d(e),h=!1,v()}}}function Y(e,t,a){let{$$slots:s={},$$scope:l}=t,{disabled:n=!1}=t,{small:r=!1}=t,{onClick:o}=t;return e.$$set=e=>{"disabled"in e&&a(0,n=e.disabled),"small"in e&&a(1,r=e.small),"onClick"in e&&a(2,o=e.onClick),"$$scope"in e&&a(3,l=e.$$scope)},[n,r,o,l,s,()=>{n||o()}]}class q extends e{constructor(e){super(),t(this,e,Y,M,a,{disabled:0,small:1,onClick:2})}}function z(e,t,a){const s=e.slice();return s[8]=t[a],s}function B(e){let t,a,s,i,c,u,g,m=e[8]+"";return{c(){t=l("option"),a=h("Sivu "),s=h(m),i=v(),this.h()},l(e){t=n(e,"OPTION",{});var l=r(t);a=x(l,"Sivu "),s=x(l,m),i=b(l),l.forEach(o),this.h()},h(){t.selected=c=e[8]===e[1],t.disabled=u=(e[1]||0)===e[8],t.__value=g=e[8],t.value=t.__value},m(e,l){$(e,t,l),P(t,a),P(t,s),P(t,i)},p(e,a){1&a&&m!==(m=e[8]+"")&&C(s,m),3&a&&c!==(c=e[8]===e[1])&&(t.selected=c),3&a&&u!==(u=(e[1]||0)===e[8])&&(t.disabled=u),1&a&&g!==(g=e[8])&&(t.__value=g,t.value=t.__value)},d(e){e&&o(t)}}}function G(e){let t,a,s,c=e[0],g=[];for(let l=0;l<c.length;l+=1)g[l]=B(z(e,c,l));return{c(){t=l("select");for(let e=0;e<g.length;e+=1)g[e].c();this.h()},l(e){t=n(e,"SELECT",{"aria-label":!0,class:!0});var a=r(t);for(let t=0;t<g.length;t+=1)g[t].l(a);a.forEach(o),this.h()},h(){i(t,"aria-label","Siirry sivulle"),i(t,"class",e[4]),void 0===e[3]&&k((()=>e[7].call(t)))},m(l,n){$(l,t,n);for(let e=0;e<g.length;e+=1)g[e].m(t,null);y(t,e[3]),a||(s=[u(t,"change",e[6]),u(t,"change",e[7])],a=!0)},p(e,[a]){if(3&a){let s;for(c=e[0],s=0;s<c.length;s+=1){const l=z(e,c,s);g[s]?g[s].p(l,a):(g[s]=B(l),g[s].c(),g[s].m(t,null))}for(;s<g.length;s+=1)g[s].d(1);g.length=c.length}16&a&&i(t,"class",e[4]),9&a&&y(t,e[3])},i:w,o:w,d(e){e&&o(t),S(g,e),a=!1,E(s)}}}function K(e,t,a){let{items:s=[]}=t,{activePage:l=1}=t,{onPageSelect:n}=t,{small:r=!1}=t,o=l,i="-appearance-none outline-none w-auto border bg-gray-100 border-gray-400 rounded-md text-gray-900 cursor-pointer";r||(i+=" mx-3 px-3 py-2 text-md"),r&&(i+=" mx-1 px-1 py-1 text-xs");return e.$$set=e=>{"items"in e&&a(0,s=e.items),"activePage"in e&&a(1,l=e.activePage),"onPageSelect"in e&&a(2,n=e.onPageSelect),"small"in e&&a(5,r=e.small)},[s,l,n,o,i,r,e=>n(e.target.value),function(){o=j(this),a(3,o),a(0,s)}]}class Q extends e{constructor(e){super(),t(this,e,K,G,a,{items:0,activePage:1,onPageSelect:2,small:5})}}function W(e){let t,a;return t=new H({props:{icon:R}}),{c(){_(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){D(t,e,s),a=!0},p:w,i(e){a||(p(t.$$.fragment,e),a=!0)},o(e){d(t.$$.fragment,e),a=!1},d(e){I(t,e)}}}function X(e){let t,a;return t=new H({props:{icon:A}}),{c(){_(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){D(t,e,s),a=!0},p:w,i(e){a||(p(t.$$.fragment,e),a=!0)},o(e){d(t.$$.fragment,e),a=!1},d(e){I(t,e)}}}function Z(e){let t,a,s,c,u,g,m,f;return a=new q({props:{disabled:e[4],"aria-disabled":e[4],onClick:e[7],small:e[1],$$slots:{default:[W]},$$scope:{ctx:e}}}),c=new Q({props:{activePage:e[0],items:e[5],onPageSelect:e[8],small:e[1]}}),g=new q({props:{disabled:e[3],"aria-disabled":e[3],onClick:e[9],small:e[1],$$slots:{default:[X]},$$scope:{ctx:e}}}),{c(){t=l("nav"),_(a.$$.fragment),s=v(),_(c.$$.fragment),u=v(),_(g.$$.fragment),this.h()},l(e){t=n(e,"NAV",{class:!0,"aria-label":!0});var l=r(t);V(a.$$.fragment,l),s=b(l),V(c.$$.fragment,l),u=b(l),V(g.$$.fragment,l),l.forEach(o),this.h()},h(){i(t,"class","flex items-start items-center"),i(t,"aria-label",m="Hakutuloksen sivutus"+(e[1]?"":", sivun lopussa"))},m(e,l){$(e,t,l),D(a,t,null),P(t,s),D(c,t,null),P(t,u),D(g,t,null),f=!0},p(e,[s]){const l={};16&s&&(l.disabled=e[4]),16&s&&(l["aria-disabled"]=e[4]),5&s&&(l.onClick=e[7]),2&s&&(l.small=e[1]),1024&s&&(l.$$scope={dirty:s,ctx:e}),a.$set(l);const n={};1&s&&(n.activePage=e[0]),32&s&&(n.items=e[5]),4&s&&(n.onPageSelect=e[8]),2&s&&(n.small=e[1]),c.$set(n);const r={};8&s&&(r.disabled=e[3]),8&s&&(r["aria-disabled"]=e[3]),5&s&&(r.onClick=e[9]),2&s&&(r.small=e[1]),1024&s&&(r.$$scope={dirty:s,ctx:e}),g.$set(r),(!f||2&s&&m!==(m="Hakutuloksen sivutus"+(e[1]?"":", sivun lopussa")))&&i(t,"aria-label",m)},i(e){f||(p(a.$$.fragment,e),p(c.$$.fragment,e),p(g.$$.fragment,e),f=!0)},o(e){d(a.$$.fragment,e),d(c.$$.fragment,e),d(g.$$.fragment,e),f=!1},d(e){e&&o(t),I(a),I(c),I(g)}}}function ee(e,t,a){let s,l,n,{page:r=1}=t,{pageCount:o}=t,{small:i=!1}=t,{setPage:c}=t;return e.$$set=e=>{"page"in e&&a(0,r=e.page),"pageCount"in e&&a(6,o=e.pageCount),"small"in e&&a(1,i=e.small),"setPage"in e&&a(2,c=e.setPage)},e.$$.update=()=>{64&e.$$.dirty&&a(5,s=Array.from(Array(o),((e,t)=>t+1))),1&e.$$.dirty&&a(4,l=1===r),65&e.$$.dirty&&a(3,n=r===o)},[r,i,c,n,l,s,o,()=>c(r-1),e=>c(e),()=>c(r+1)]}class te extends e{constructor(e){super(),t(this,e,ee,Z,a,{page:0,pageCount:6,small:1,setPage:2})}}function ae(e){let t,a;return t=new te({props:{setPage:e[7],page:e[3],pageCount:e[6],small:!0}}),{c(){_(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){D(t,e,s),a=!0},p(e,a){const s={};8&a&&(s.page=e[3]),64&a&&(s.pageCount=e[6]),t.$set(s)},i(e){a||(p(t.$$.fragment,e),a=!0)},o(e){d(t.$$.fragment,e),a=!1},d(e){I(t,e)}}}function se(e){let t,a;return t=new te({props:{setPage:e[7],page:e[3],pageCount:e[6],small:!1}}),{c(){_(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,s){D(t,e,s),a=!0},p(e,a){const s={};8&a&&(s.page=e[3]),64&a&&(s.pageCount=e[6]),t.$set(s)},i(e){a||(p(t.$$.fragment,e),a=!0)},o(e){d(t.$$.fragment,e),a=!1},d(e){I(t,e)}}}function le(e){let t,a,s,c,u,g,m,f,h,x,C,k;s=new O({props:{title:e[5],value:e[4],resultCount:e[1]}});let y=e[6]>1&&ae(e);g=new U({props:{facet:"topic_facet",facets:e[2]}}),h=new F({props:{records:e[0]}});let w=e[6]>1&&se(e);return{c(){t=l("div"),a=l("div"),_(s.$$.fragment),c=v(),y&&y.c(),u=v(),_(g.$$.fragment),m=v(),f=l("div"),_(h.$$.fragment),x=v(),C=l("div"),w&&w.c(),this.h()},l(e){t=n(e,"DIV",{});var l=r(t);a=n(l,"DIV",{class:!0});var i=r(a);V(s.$$.fragment,i),c=b(i),y&&y.l(i),i.forEach(o),u=b(l),V(g.$$.fragment,l),m=b(l),f=n(l,"DIV",{class:!0});var $=r(f);V(h.$$.fragment,$),$.forEach(o),x=b(l),C=n(l,"DIV",{class:!0});var p=r(C);w&&w.l(p),p.forEach(o),l.forEach(o),this.h()},h(){i(a,"class","flex justify-between h-8"),i(f,"class","mt-2"),i(C,"class","mt-4 flex justify-center")},m(e,l){$(e,t,l),P(t,a),D(s,a,null),P(a,c),y&&y.m(a,null),P(t,u),D(g,t,null),P(t,m),P(t,f),D(h,f,null),P(t,x),P(t,C),w&&w.m(C,null),k=!0},p(e,[t]){const l={};32&t&&(l.title=e[5]),16&t&&(l.value=e[4]),2&t&&(l.resultCount=e[1]),s.$set(l),e[6]>1?y?(y.p(e,t),64&t&&p(y,1)):(y=ae(e),y.c(),p(y,1),y.m(a,null)):y&&(L(),d(y,1,1,(()=>{y=null})),N());const n={};4&t&&(n.facets=e[2]),g.$set(n);const r={};1&t&&(r.records=e[0]),h.$set(r),e[6]>1?w?(w.p(e,t),64&t&&p(w,1)):(w=se(e),w.c(),p(w,1),w.m(C,null)):w&&(L(),d(w,1,1,(()=>{w=null})),N())},i(e){k||(p(s.$$.fragment,e),p(y),p(g.$$.fragment,e),p(h.$$.fragment,e),p(w),k=!0)},o(e){d(s.$$.fragment,e),d(y),d(g.$$.fragment,e),d(h.$$.fragment,e),d(w),k=!1},d(e){e&&o(t),I(s),y&&y.d(),I(g),I(h),w&&w.d()}}}function ne(e,t,a){let s,{records:l=[]}=t,{resultCount:n=0}=t,{topics:r=[]}=t,{resultPage:o}=t,{lookfor:i=""}=t,{heading:c="Haku: "}=t;return e.$$set=e=>{"records"in e&&a(0,l=e.records),"resultCount"in e&&a(1,n=e.resultCount),"topics"in e&&a(2,r=e.topics),"resultPage"in e&&a(3,o=e.resultPage),"lookfor"in e&&a(4,i=e.lookfor),"heading"in e&&a(5,c=e.heading)},e.$$.update=()=>{2&e.$$.dirty&&a(6,s=Math.ceil(Number(n)/J))},[l,n,r,o,i,c,s,e=>{const t=new URL(window.location.href);t.searchParams.set("page",e),T(t.toString())}]}class re extends e{constructor(e){super(),t(this,e,ne,le,a,{records:0,resultCount:1,topics:2,resultPage:3,lookfor:4,heading:5})}}export{re as R};
