import{S as e,i as t,s,k as a,j as n,Q as r,d as i,n as o,m as c,f as u,o as l,x as d,u as p,v as h}from"../../../chunks/vendor-1a5a643c.js";import{c as f,a as g}from"../../../chunks/util-eedb8744.js";import{R as m}from"../../../chunks/index-d118e750.js";import"../../../chunks/navigation-51f4a605.js";import"../../../chunks/singletons-12a22614.js";import"../../../chunks/SearchHeading-fc49bab8.js";import"../../../chunks/index-957ec836.js";import"../../../chunks/api-01f7392a.js";function k(e){let t,s,f,k;return document.title=t=e[4]+" | "+g,f=new m({props:{resultPage:e[3],resultCount:e[1],records:e[0],heading:e[4],topics:e[2]}}),{c(){s=a(),n(f.$$.fragment)},l(e){r('[data-svelte="svelte-cpjbv6"]',document.head).forEach(i),s=o(e),c(f.$$.fragment,e)},m(e,t){u(e,s,t),l(f,e,t),k=!0},p(e,[s]){(!k||16&s)&&t!==(t=e[4]+" | "+g)&&(document.title=t);const a={};8&s&&(a.resultPage=e[3]),2&s&&(a.resultCount=e[1]),1&s&&(a.records=e[0]),16&s&&(a.heading=e[4]),4&s&&(a.topics=e[2]),f.$set(a)},i(e){k||(d(f.$$.fragment,e),k=!0)},o(e){p(f.$$.fragment,e),k=!1},d(e){e&&i(s),h(f,e)}}}var $=function(e,t,s,a){return new(s||(s=Promise))((function(n,r){function i(e){try{c(a.next(e))}catch(t){r(t)}}function o(e){try{c(a.throw(e))}catch(t){r(t)}}function c(e){var t;e.done?n(e.value):(t=e.value,t instanceof s?t:new s((function(e){e(t)}))).then(i,o)}c((a=a.apply(e,t||[])).next())}))};const v=({fetch:e,page:t})=>$(void 0,void 0,void 0,(function*(){const s=t.params.facet,a=t.params.id,n=Number(t.query.get("page")||1),r=yield e(`/api/browse/${s}/${a}.json?page=${n}`,f);if(r.ok){const{records:e,resultCount:t,topics:i}=yield r.json();let o="";switch(s){case"topic":o="Aihe";break;case"genre":o="Genre";break;case"date":o="Aikakausi";break;case"clips":o="Selaa elokuvia"}return{props:{topics:i,records:e,resultCount:t,resultPage:n,heading:o,title:"clips"!==s?`${o}: ${a}`:o}}}}));function j(e,t,s){this&&this.__awaiter;let{records:a=[]}=t,{resultCount:n=0}=t,{topics:r=[]}=t,{resultPage:i}=t,{heading:o}=t,{title:c}=t;return e.$$set=e=>{"records"in e&&s(0,a=e.records),"resultCount"in e&&s(1,n=e.resultCount),"topics"in e&&s(2,r=e.topics),"resultPage"in e&&s(3,i=e.resultPage),"heading"in e&&s(5,o=e.heading),"title"in e&&s(4,c=e.title)},[a,n,r,i,c,o]}class b extends e{constructor(e){super(),t(this,e,j,k,s,{records:0,resultCount:1,topics:2,resultPage:3,heading:5,title:4})}}export{b as default,v as load};
