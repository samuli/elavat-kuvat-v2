import{S as t,i as e,s as r,e as a,t as s,c as l,a as n,g as c,d as o,b as i,f,D as u,E as h,L as d,ac as m,k as p,j as v,n as g,m as $,o as x,x as E,u as y,v as w,Y as D,a7 as I,J as V,a1 as b,a2 as j,O as k,w as A,ad as _,h as P,l as S,Q as L,A as U,ae as R,r as M,a3 as N,W as H,af as K}from"../../chunks/vendor-1a5a643c.js";import{f as O,g as T}from"../../chunks/record-5fc36f15.js";import{S as Y,F as C}from"../../chunks/SearchHeading-fc49bab8.js";import{a as F}from"../../chunks/util-eedb8744.js";import{r as G,e as z}from"../../chunks/api-01f7392a.js";function B(t){let e,r,D,I,V,b,j,k,A,_,P,S=t[1]&&t[2]&&function(t){let e,r,d;return{c(){e=a("div"),r=a("a"),d=s(t[1]),this.h()},l(a){e=l(a,"DIV",{class:!0});var s=n(e);r=l(s,"A",{href:!0,target:!0,rel:!0});var i=n(r);d=c(i,t[1]),i.forEach(o),s.forEach(o),this.h()},h(){i(r,"href",t[2]),i(r,"target","_blank"),i(r,"rel","noopener noreferrer"),i(e,"class","underline")},m(t,a){f(t,e,a),u(e,r),u(r,d)},p:h,d(t){t&&o(e)}}}(t);return _=new d({props:{icon:m}}),{c(){e=a("div"),r=a("span"),D=s("Aineiston käyttöoikeudet:"),I=p(),V=a("a"),b=a("div"),S&&S.c(),j=p(),k=a("div"),A=a("span"),v(_.$$.fragment),this.h()},l(t){e=l(t,"DIV",{class:!0});var a=n(e);r=l(a,"SPAN",{class:!0});var s=n(r);D=c(s,"Aineiston käyttöoikeudet:"),s.forEach(o),I=g(a),V=l(a,"A",{target:!0,rel:!0,href:!0,class:!0,title:!0});var i=n(V);b=l(i,"DIV",{class:!0});var f=n(b);S&&S.l(f),j=g(f),k=l(f,"DIV",{class:!0});var u=n(k);A=l(u,"SPAN",{class:!0});var h=n(A);$(_.$$.fragment,h),h.forEach(o),u.forEach(o),f.forEach(o),i.forEach(o),a.forEach(o),this.h()},h(){i(r,"class","uppercase text-xs font-bold"),i(A,"class","text-xs ml-2 "),i(k,"class","text-gray-600 ml-1 flex jusitfy-center items-center text-xl"),i(b,"class","text-sm flex flex-row items-center"),i(V,"target","_blank"),i(V,"rel","noopener noreferrer"),i(V,"href",t[0]),i(V,"class","hover:text-gray-800"),i(V,"title","Katso lisätiedot Finnassa"),i(e,"class","flex flex-col")},m(t,a){f(t,e,a),u(e,r),u(r,D),u(e,I),u(e,V),u(V,b),S&&S.m(b,null),u(b,j),u(b,k),u(k,A),x(_,A,null),P=!0},p(t,[e]){t[1]&&t[2]&&S.p(t,e)},i(t){P||(E(_.$$.fragment,t),P=!0)},o(t){y(_.$$.fragment,t),P=!1},d(t){t&&o(e),S&&S.d(),w(_)}}}function J(t,e,r){var a,s;let{record:l}=e;const n=O(l.recordPage),c=null===(a=l.imageRights)||void 0===a?void 0:a.copyright,o=(null===(s=l.imageRights)||void 0===s?void 0:s.link)||n;return t.$$set=t=>{"record"in t&&r(3,l=t.record)},[n,c,o,l]}class Q extends t{constructor(t){super(),e(this,t,J,B,r,{record:3})}}function W(t,e,r){const a=t.slice();return a[3]=e[r],a}function q(t){let e,r,h,d,m=t[0][0]+"",v=t[0].length>1&&function(t){let e,r=t[0].slice(1),s=[];for(let a=0;a<r.length;a+=1)s[a]=X(W(t,r,a));return{c(){e=a("div");for(let t=0;t<s.length;t+=1)s[t].c()},l(t){e=l(t,"DIV",{});var r=n(e);for(let e=0;e<s.length;e+=1)s[e].l(r);r.forEach(o)},m(t,r){f(t,e,r);for(let a=0;a<s.length;a+=1)s[a].m(e,null)},p(t,a){if(1&a){let l;for(r=t[0].slice(1),l=0;l<r.length;l+=1){const n=W(t,r,l);s[l]?s[l].p(n,a):(s[l]=X(n),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=r.length}},d(t){t&&o(e),D(s,t)}}}(t);return{c(){e=a("details"),r=a("summary"),h=s(m),d=p(),v&&v.c(),this.h()},l(t){e=l(t,"DETAILS",{});var a=n(e);r=l(a,"SUMMARY",{class:!0});var s=n(r);h=c(s,m),s.forEach(o),d=g(a),v&&v.l(a),a.forEach(o),this.h()},h(){i(r,"class","cursor-pointer whitespace-pre-line outline-none")},m(t,a){f(t,e,a),u(e,r),u(r,h),u(e,d),v&&v.m(e,null)},p(t,e){t[0].length>1&&v.p(t,e)},d(t){t&&o(e),v&&v.d()}}}function X(t){let e,r,d,m=t[3]+"";return{c(){e=a("p"),r=s(m),d=p(),this.h()},l(t){e=l(t,"P",{class:!0});var a=n(e);r=c(a,m),d=g(a),a.forEach(o),this.h()},h(){i(e,"class","pt-2")},m(t,a){f(t,e,a),u(e,r),u(e,d)},p:h,d(t){t&&o(e)}}}function Z(t){let e,r,d=t[1]&&q(t),m=!t[1]&&function(t){let e,r,i=t[0][0]+"";return{c(){e=a("p"),r=s(i)},l(t){e=l(t,"P",{});var a=n(e);r=c(a,i),a.forEach(o)},m(t,a){f(t,e,a),u(e,r)},p:h,d(t){t&&o(e)}}}(t);return{c(){e=a("div"),d&&d.c(),r=p(),m&&m.c(),this.h()},l(t){e=l(t,"DIV",{class:!0});var a=n(e);d&&d.l(a),r=g(a),m&&m.l(a),a.forEach(o),this.h()},h(){i(e,"class","mt-4 leading-snug text-md")},m(t,a){f(t,e,a),d&&d.m(e,null),u(e,r),m&&m.m(e,null)},p(t,[e]){t[1]&&d.p(t,e),t[1]||m.p(t,e)},i:h,o:h,d(t){t&&o(e),d&&d.d(),m&&m.d()}}}function tt(t,e,r){let{text:a}=e;const s=a.replace(/<br( )?\/>/g,"\n").split("\n"),l=s.length>1;return t.$$set=t=>{"text"in t&&r(2,a=t.text)},[s,l,a]}class et extends t{constructor(t){super(),e(this,t,tt,Z,r,{text:2})}}function rt(t,e,r){const a=t.slice();return a[13]=e[r],a}function at(t){var e;let r,h,m,D,b,j,k,_,S,L,U,N,H,K,O,Y,C,F,G,z,B,J,W,q,X,Z,tt,et,rt,at,ct,ht,dt,mt,pt,vt,gt,$t,xt,Et,yt,wt=t[0].title+"",Dt=T(t[0],"author_corporate")+"",It=` ${T(t[0],"main_date_str")}`,Vt=t[3]&&st(t);O=new d({props:{class:"ml-2",icon:R}});let bt=t[5]&&lt(t),jt=t[0].urls&&t[0].urls.length>1&&nt(t),kt=(null==(e=t[0].rawData)?void 0:e.description)&&ot(t),At=t[0].buildings&&it(t);pt=new Q({props:{record:t[0]}});let _t=t[2].length>0&&ft(t),Pt=t[1].length>0&&ut(t);return{c(){r=a("div"),h=a("div"),m=a("article"),D=a("div"),b=a("div"),j=a("div"),k=a("div"),_=a("div"),S=a("div"),Vt&&Vt.c(),L=p(),U=a("div"),N=a("div"),H=a("span"),K=s("Katso "),v(O.$$.fragment),Y=p(),C=a("div"),bt&&bt.c(),F=p(),G=a("div"),z=a("div"),B=a("h1"),J=s(wt),W=p(),q=a("p"),X=s(Dt),Z=p(),tt=s(It),et=p(),jt&&jt.c(),rt=p(),at=a("div"),kt&&kt.c(),ct=p(),ht=a("div"),At&&At.c(),dt=p(),mt=a("div"),v(pt.$$.fragment),vt=p(),gt=a("div"),_t&&_t.c(),$t=p(),Pt&&Pt.c(),this.h()},l(t){r=l(t,"DIV",{class:!0});var e=n(r);h=l(e,"DIV",{class:!0});var a=n(h);m=l(a,"ARTICLE",{});var s=n(m);D=l(s,"DIV",{class:!0});var i=n(D);b=l(i,"DIV",{class:!0});var f=n(b);j=l(f,"DIV",{class:!0});var u=n(j);k=l(u,"DIV",{class:!0});var d=n(k);_=l(d,"DIV",{class:!0});var p=n(_);S=l(p,"DIV",{class:!0});var v=n(S);Vt&&Vt.l(v),v.forEach(o),p.forEach(o),L=g(d),U=l(d,"DIV",{class:!0});var x=n(U);N=l(x,"DIV",{class:!0});var E=n(N);H=l(E,"SPAN",{class:!0});var y=n(H);K=c(y,"Katso "),$(O.$$.fragment,y),y.forEach(o),E.forEach(o),x.forEach(o),d.forEach(o),u.forEach(o),Y=g(f),C=l(f,"DIV",{});var w=n(C);bt&&bt.l(w),w.forEach(o),f.forEach(o),F=g(i),G=l(i,"DIV",{class:!0});var I=n(G);z=l(I,"DIV",{});var V=n(z);B=l(V,"H1",{class:!0});var A=n(B);J=c(A,wt),A.forEach(o),W=g(V),q=l(V,"P",{class:!0});var P=n(q);X=c(P,Dt),Z=g(P),tt=c(P,It),P.forEach(o),V.forEach(o),et=g(I),jt&&jt.l(I),I.forEach(o),i.forEach(o),rt=g(s),at=l(s,"DIV",{class:!0});var R=n(at);kt&&kt.l(R),ct=g(R),ht=l(R,"DIV",{class:!0});var M=n(ht);At&&At.l(M),dt=g(M),mt=l(M,"DIV",{class:!0});var T=n(mt);$(pt.$$.fragment,T),T.forEach(o),M.forEach(o),vt=g(R),gt=l(R,"DIV",{});var Q=n(gt);_t&&_t.l(Q),$t=g(Q),Pt&&Pt.l(Q),Q.forEach(o),R.forEach(o),s.forEach(o),a.forEach(o),e.forEach(o),this.h()},h(){i(S,"class","aspect-w-4 aspect-h-3 items-center justify-center"),i(_,"class","w-full h-full"),i(H,"class","ml-2 flex items-center uppercase text-sm"),i(N,"class","flex items-center justify-center font-semibold text-lg px-4 py-3 rounded-xl bg-gradient-to-b from-pink-500 to-red-500 text-gray-100 border-2 border-red-500"),i(U,"class","absolute align-middle p-10 self-center align-center justify-center flex cursor-pointer"),i(k,"class","flex relative items-center justify-center bg-gradient-to-b from-gray-900 to-gray-800 rounded-xl group cursor-pointer min-h-64"),i(j,"class","absolute z-10"),I(j,"hidden",!t[6]),I(C,"hidden",t[6]),i(b,"class","aspect-w-4 aspect-h-3 overflow-hidden"),i(B,"class","text-xl md:text-3xl font-bold"),i(q,"class","text-md text-gray-100"),i(G,"class","flex flex-col justify-center mt-2"),i(D,"class","flex flex-col w-full max-w-2xl"),i(mt,"class","sm:mt-0 mt-2"),i(ht,"class","my-5 inline-flex flex-col sm:flex-row bg-yellow-50 text-gray-900 p-3 rounded-md"),i(at,"class","max-w-2xl"),i(h,"class","mt-3"),i(r,"class","w-auto font-sans")},m(e,a){f(e,r,a),u(r,h),u(h,m),u(m,D),u(D,b),u(b,j),u(j,k),u(k,_),u(_,S),Vt&&Vt.m(S,null),u(k,L),u(k,U),u(U,N),u(N,H),u(H,K),x(O,H,null),u(b,Y),u(b,C),bt&&bt.m(C,null),u(D,F),u(D,G),u(G,z),u(z,B),u(B,J),u(z,W),u(z,q),u(q,X),u(q,Z),u(q,tt),u(G,et),jt&&jt.m(G,null),u(m,rt),u(m,at),kt&&kt.m(at,null),u(at,ct),u(at,ht),At&&At.m(ht,null),u(ht,dt),u(ht,mt),x(pt,mt,null),u(at,vt),u(at,gt),_t&&_t.m(gt,null),u(gt,$t),Pt&&Pt.m(gt,null),xt=!0,Et||(yt=V(k,"click",t[9]),Et=!0)},p(t,e){var r;t[3]?Vt?(Vt.p(t,e),8&e&&E(Vt,1)):(Vt=st(t),Vt.c(),E(Vt,1),Vt.m(S,null)):Vt&&(M(),y(Vt,1,1,(()=>{Vt=null})),A()),64&e&&I(j,"hidden",!t[6]),t[5]?bt?bt.p(t,e):(bt=lt(t),bt.c(),bt.m(C,null)):bt&&(bt.d(1),bt=null),64&e&&I(C,"hidden",t[6]),(!xt||1&e)&&wt!==(wt=t[0].title+"")&&P(J,wt),(!xt||1&e)&&Dt!==(Dt=T(t[0],"author_corporate")+"")&&P(X,Dt),(!xt||1&e)&&It!==(It=` ${T(t[0],"main_date_str")}`)&&P(tt,It),t[0].urls&&t[0].urls.length>1?jt?(jt.p(t,e),1&e&&E(jt,1)):(jt=nt(t),jt.c(),E(jt,1),jt.m(G,null)):jt&&(M(),y(jt,1,1,(()=>{jt=null})),A()),(null==(r=t[0].rawData)?void 0:r.description)?kt?(kt.p(t,e),1&e&&E(kt,1)):(kt=ot(t),kt.c(),E(kt,1),kt.m(at,ct)):kt&&(M(),y(kt,1,1,(()=>{kt=null})),A()),t[0].buildings?At?(At.p(t,e),1&e&&E(At,1)):(At=it(t),At.c(),E(At,1),At.m(ht,dt)):At&&(M(),y(At,1,1,(()=>{At=null})),A());const a={};1&e&&(a.record=t[0]),pt.$set(a),t[2].length>0?_t?(_t.p(t,e),4&e&&E(_t,1)):(_t=ft(t),_t.c(),E(_t,1),_t.m(gt,$t)):_t&&(M(),y(_t,1,1,(()=>{_t=null})),A()),t[1].length>0?Pt?(Pt.p(t,e),2&e&&E(Pt,1)):(Pt=ut(t),Pt.c(),E(Pt,1),Pt.m(gt,null)):Pt&&(M(),y(Pt,1,1,(()=>{Pt=null})),A())},i(t){xt||(E(Vt),E(O.$$.fragment,t),E(jt),E(kt),E(At),E(pt.$$.fragment,t),E(_t),E(Pt),xt=!0)},o(t){y(Vt),y(O.$$.fragment,t),y(jt),y(kt),y(At),y(pt.$$.fragment,t),y(_t),y(Pt),xt=!1},d(t){t&&o(r),Vt&&Vt.d(),w(O),bt&&bt.d(),jt&&jt.d(),kt&&kt.d(),At&&At.d(),w(pt),_t&&_t.d(),Pt&&Pt.d(),Et=!1,yt()}}}function st(t){let e,r,s,n,c;return{c(){e=a("img"),this.h()},l(t){e=l(t,"IMG",{alt:!0,src:!0,class:!0}),this.h()},h(){i(e,"alt","Esikatselukuva"),b(e.src,r=t[3])||i(e,"src",r),i(e,"class","w-auto rouded-xl overflow-hidden object-cover object-center")},m(t,r){f(t,e,r),c=!0},p(t,a){(!c||8&a&&!b(e.src,r=t[3]))&&i(e,"src",r)},i(t){c||(j((()=>{n&&n.end(1),s=N(e,H,{duration:300}),s.start()})),c=!0)},o(t){s&&s.invalidate(),n=k(e,H,{duration:10}),c=!1},d(t){t&&o(e),t&&n&&n.end()}}}function lt(t){let e,r,s;return{c(){e=a("vm-player"),r=a("vm-hls"),s=a("source"),this.h()},l(t){e=l(t,"VM-PLAYER",{"aspect-ratio":!0,viewtype:!0,poster:!0,autoplay:!0,controls:!0});var a=n(e);r=l(a,"VM-HLS",{crossorigin:!0});var c=n(r);s=l(c,"SOURCE",{"data-src":!0,type:!0}),c.forEach(o),a.forEach(o),this.h()},h(){i(s,"data-src",t[5]),i(s,"type","application/x-mpegURL"),_(r,"crossorigin",""),_(e,"aspect-ratio","4:3"),_(e,"viewtype","video"),_(e,"poster",t[3]),_(e,"autoplay",!0),_(e,"controls","")},m(a,l){f(a,e,l),u(e,r),u(r,s),t[10](e)},p(t,r){32&r&&i(s,"data-src",t[5]),8&r&&_(e,"poster",t[3])},d(r){r&&o(e),t[10](null)}}}function nt(t){let e,r,s=z(t[0]),c=[];for(let a=0;a<s.length;a+=1)c[a]=ct(rt(t,s,a));const u=t=>y(c[t],1,1,(()=>{c[t]=null}));return{c(){e=a("ul");for(let t=0;t<c.length;t+=1)c[t].c();this.h()},l(t){e=l(t,"UL",{class:!0});var r=n(e);for(let e=0;e<c.length;e+=1)c[e].l(r);r.forEach(o),this.h()},h(){i(e,"class","mt-5")},m(t,a){f(t,e,a);for(let r=0;r<c.length;r+=1)c[r].m(e,null);r=!0},p(t,r){if(97&r){let a;for(s=z(t[0]),a=0;a<s.length;a+=1){const l=rt(t,s,a);c[a]?(c[a].p(l,r),E(c[a],1)):(c[a]=ct(l),c[a].c(),E(c[a],1),c[a].m(e,null))}for(M(),a=s.length;a<c.length;a+=1)u(a);A()}},i(t){if(!r){for(let t=0;t<s.length;t+=1)E(c[t]);r=!0}},o(t){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)y(c[e]);r=!1},d(t){t&&o(e),D(c,t)}}}function ct(t){let e,r,h,m,D,I,b,j,k,A,_,S=t[13].title+"";function L(){return t[11](t[13])}return m=new d({props:{icon:R}}),{c(){e=a("li"),r=a("div"),h=a("div"),v(m.$$.fragment),D=p(),I=a("div"),b=s(S),j=p(),this.h()},l(t){e=l(t,"LI",{class:!0});var a=n(e);r=l(a,"DIV",{class:!0});var s=n(r);h=l(s,"DIV",{class:!0});var i=n(h);$(m.$$.fragment,i),i.forEach(o),s.forEach(o),D=g(a),I=l(a,"DIV",{class:!0});var f=n(I);b=c(f,S),f.forEach(o),j=g(a),a.forEach(o),this.h()},h(){i(h,"class","ml-1"),i(r,"class","text-gray-100 group-hover:text-white fill-current stroke-current items-center justify-center flex text-sm"),i(I,"class","ml-3"),i(e,"class","flex my-2 items-center group text-md text-gray-200 hover:text-white cursor-pointer")},m(t,a){f(t,e,a),u(e,r),u(r,h),x(m,h,null),u(e,D),u(e,I),u(I,b),u(e,j),k=!0,A||(_=V(e,"click",L),A=!0)},p(e,r){t=e,(!k||1&r)&&S!==(S=t[13].title+"")&&P(b,S)},i(t){k||(E(m.$$.fragment,t),k=!0)},o(t){y(m.$$.fragment,t),k=!1},d(t){t&&o(e),w(m),A=!1,_()}}}function ot(t){var e;let r,a;return r=new et({props:{text:null==(e=t[0].rawData)?void 0:e.description}}),{c(){v(r.$$.fragment)},l(t){$(r.$$.fragment,t)},m(t,e){x(r,t,e),a=!0},p(t,e){var a;const s={};1&e&&(s.text=null==(a=t[0].rawData)?void 0:a.description),r.$set(s)},i(t){a||(E(r.$$.fragment,t),a=!0)},o(t){y(r.$$.fragment,t),a=!1},d(t){w(r,t)}}}function it(t){let e,r,h,D,I,V,b,j,k,A,_,S=t[0].buildings[0].translated+"";return A=new d({props:{icon:m}}),{c(){e=a("div"),r=a("div"),h=s("Aineiston tarjoaa:"),D=p(),I=a("div"),V=a("a"),b=s(S),j=p(),k=a("span"),v(A.$$.fragment),this.h()},l(t){e=l(t,"DIV",{class:!0});var a=n(e);r=l(a,"DIV",{class:!0});var s=n(r);h=c(s,"Aineiston tarjoaa:"),s.forEach(o),D=g(a),I=l(a,"DIV",{class:!0});var i=n(I);V=l(i,"A",{href:!0,target:!0,rel:!0,class:!0});var f=n(V);b=c(f,S),j=g(f),k=l(f,"SPAN",{class:!0});var u=n(k);$(A.$$.fragment,u),u.forEach(o),f.forEach(o),i.forEach(o),a.forEach(o),this.h()},h(){i(r,"class","mr-2 uppercase text-xs font-bold"),i(k,"class","ml-2 mr-5 text-gray-700 text-xs"),i(V,"href","https://kavi.finna.fi"),i(V,"target","_blank"),i(V,"rel","noopener noreferrer"),i(V,"class","flex items-center justify-center underline hover:text-gray-700"),i(I,"class","flex text-sm"),i(e,"class","flex flex-col")},m(t,a){f(t,e,a),u(e,r),u(r,h),u(e,D),u(e,I),u(I,V),u(V,b),u(V,j),u(V,k),x(A,k,null),_=!0},p(t,e){(!_||1&e)&&S!==(S=t[0].buildings[0].translated+"")&&P(b,S)},i(t){_||(E(A.$$.fragment,t),_=!0)},o(t){y(A.$$.fragment,t),_=!1},d(t){t&&o(e),w(A)}}}function ft(t){let e,r,s,c,h;return r=new Y({props:{title:"Aiheet"}}),c=new C({props:{truncate:!1,facet:"topic_facet",facets:t[2]}}),{c(){e=a("div"),v(r.$$.fragment),s=p(),v(c.$$.fragment),this.h()},l(t){e=l(t,"DIV",{class:!0});var a=n(e);$(r.$$.fragment,a),s=g(a),$(c.$$.fragment,a),a.forEach(o),this.h()},h(){i(e,"class","mb-2")},m(t,a){f(t,e,a),x(r,e,null),u(e,s),x(c,e,null),h=!0},p(t,e){const r={};4&e&&(r.facets=t[2]),c.$set(r)},i(t){h||(E(r.$$.fragment,t),E(c.$$.fragment,t),h=!0)},o(t){y(r.$$.fragment,t),y(c.$$.fragment,t),h=!1},d(t){t&&o(e),w(r),w(c)}}}function ut(t){let e,r,s,c,i;return r=new Y({props:{title:"Genret"}}),c=new C({props:{truncate:!1,facet:"genre_facet",facets:t[1]}}),{c(){e=a("div"),v(r.$$.fragment),s=p(),v(c.$$.fragment)},l(t){e=l(t,"DIV",{});var a=n(e);$(r.$$.fragment,a),s=g(a),$(c.$$.fragment,a),a.forEach(o)},m(t,a){f(t,e,a),x(r,e,null),u(e,s),x(c,e,null),i=!0},p(t,e){const r={};2&e&&(r.facets=t[1]),c.$set(r)},i(t){i||(E(r.$$.fragment,t),E(c.$$.fragment,t),i=!0)},o(t){y(r.$$.fragment,t),y(c.$$.fragment,t),i=!1},d(t){t&&o(e),w(r),w(c)}}}function ht(t){let e,r,a,s;document.title=e=t[0].title+" | "+F;let l=!0===t[4]&&t[0]&&at(t);return{c(){r=p(),l&&l.c(),a=S()},l(t){L('[data-svelte="svelte-1wyjdg9"]',document.head).forEach(o),r=g(t),l&&l.l(t),a=S()},m(t,e){f(t,r,e),l&&l.m(t,e),f(t,a,e),s=!0},p(t,[r]){(!s||1&r)&&e!==(e=t[0].title+" | "+F)&&(document.title=e),!0===t[4]&&t[0]?l?(l.p(t,r),17&r&&E(l,1)):(l=at(t),l.c(),E(l,1),l.m(a.parentNode,a)):l&&(M(),y(l,1,1,(()=>{l=null})),A())},i(t){s||(E(l),s=!0)},o(t){y(l),s=!1},d(t){t&&o(r),l&&l.d(t),t&&o(a)}}}var dt=function(t,e,r,a){return new(r||(r=Promise))((function(s,l){function n(t){try{o(a.next(t))}catch(e){l(e)}}function c(t){try{o(a.throw(t))}catch(e){l(e)}}function o(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(n,c)}o((a=a.apply(t,e||[])).next())}))};const mt=({page:t,fetch:e})=>dt(void 0,void 0,void 0,(function*(){G(t.params.id);const r=yield e(`/api/record/${t.params.id}.json`);if(r.ok){const t=yield r.json();return{props:Object.assign({},t)}}return new Error("Error loading record")}));function pt(t,e,r){var a=this&&this.__awaiter||function(t,e,r,a){return new(r||(r=Promise))((function(s,l){function n(t){try{o(a.next(t))}catch(e){l(e)}}function c(t){try{o(a.throw(t))}catch(e){l(e)}}function o(t){var e;t.done?s(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(n,c)}o((a=a.apply(t,e||[])).next())}))};let s,{record:l=null}=e,{videoUrls:n=null}=e,{genres:c=[]}=e,{topics:o=[]}=e,{poster:i}=e,f=!1,u=null,h=!0;U((()=>a(void 0,void 0,void 0,(function*(){r(4,f=!0),r(5,u=n.length>0&&n[0].src||null)}))));return t.$$set=t=>{"record"in t&&r(0,l=t.record),"videoUrls"in t&&r(8,n=t.videoUrls),"genres"in t&&r(1,c=t.genres),"topics"in t&&r(2,o=t.topics),"poster"in t&&r(3,i=t.poster)},[l,c,o,i,f,u,h,s,n,()=>{r(6,h=!1),setTimeout((()=>s.play()),200)},function(t){K[t?"unshift":"push"]((()=>{s=t,r(7,s)}))},t=>{r(5,u=t.src),r(6,h=!1)}]}class vt extends t{constructor(t){super(),e(this,t,pt,ht,r,{record:0,videoUrls:8,genres:1,topics:2,poster:3})}}export{vt as default,mt as load};
