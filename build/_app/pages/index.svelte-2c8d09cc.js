import{S as t,i as a,s as e,e as s,t as r,c as n,a as l,g as i,d as o,b as c,f,D as m,h as u,E as d,j as $,k as h,m as p,n as g,o as k,x as v,u as x,v as w,r as b,w as E,Y as y,L as I,Z as D,_ as V,l as j,Q as C,$ as S,J as Y,G as U,a0 as A,X as L}from"../chunks/vendor-de530dcf.js";import{n as _}from"../chunks/navigationState-2f35a129.js";import{y as B,s as G,l as H,a as N,b as T,d as F}from"../chunks/util-d79d52b9.js";import{R as J}from"../chunks/index-4a6bec82.js";import{S as O,F as P}from"../chunks/SearchHeading-22de2d8e.js";import{f as Q}from"../chunks/api-d72cf0fe.js";function R(t){let a,e,$,h;return{c(){a=s("a"),e=s("div"),$=r(t[0]),this.h()},l(s){a=n(s,"A",{href:!0});var r=l(a);e=n(r,"DIV",{class:!0});var c=l(e);$=i(c,t[0]),c.forEach(o),r.forEach(o),this.h()},h(){c(e,"class","text-md subpixel-antialiased text-gray-800 uppercase tracking-tight bg-gradient-to-b from-gray-100 to-gray-300 py-1 px-2 rounded-lg cursor-pointer ripple-bg-white"),c(a,"href",h=`/browse?facet=date:${t[1]}-${t[2]}`)},m(t,s){f(t,a,s),m(a,e),m(e,$)},p(t,[e]){1&e&&u($,t[0]),2&e&&h!==(h=`/browse?facet=date:${t[1]}-${t[2]}`)&&c(a,"href",h)},i:d,o:d,d(t){t&&o(a)}}}function X(t,a,e){let{title:s}=a,{startYear:r}=a;const n=r<2e3?r+9:"*";return t.$$set=t=>{"title"in t&&e(0,s=t.title),"startYear"in t&&e(1,r=t.startYear)},[s,r,n]}class Z extends t{constructor(t){super(),a(this,t,X,R,e,{title:0,startYear:1})}}function q(t,a,e){const s=t.slice();return s[1]=a[e],s}function z(t){let a,e,r,i;return e=new Z({props:{startYear:t[1],title:B(t[1])}}),{c(){a=s("li"),$(e.$$.fragment),r=h(),this.h()},l(t){a=n(t,"LI",{class:!0});var s=l(a);p(e.$$.fragment,s),r=g(s),s.forEach(o),this.h()},h(){c(a,"class","mr-2 mb-2")},m(t,s){f(t,a,s),k(e,a,null),m(a,r),i=!0},p(t,a){const s={};1&a&&(s.startYear=t[1]),1&a&&(s.title=B(t[1])),e.$set(s)},i(t){i||(v(e.$$.fragment,t),i=!0)},o(t){x(e.$$.fragment,t),i=!1},d(t){t&&o(a),w(e)}}}function K(t){let a,e,r=t[0],i=[];for(let s=0;s<r.length;s+=1)i[s]=z(q(t,r,s));const m=t=>x(i[t],1,1,(()=>{i[t]=null}));return{c(){a=s("ul");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){a=n(t,"UL",{class:!0});var e=l(a);for(let a=0;a<i.length;a+=1)i[a].l(e);e.forEach(o),this.h()},h(){c(a,"class","flex flex-wrap mt-2")},m(t,s){f(t,a,s);for(let e=0;e<i.length;e+=1)i[e].m(a,null);e=!0},p(t,[e]){if(1&e){let s;for(r=t[0],s=0;s<r.length;s+=1){const n=q(t,r,s);i[s]?(i[s].p(n,e),v(i[s],1)):(i[s]=z(n),i[s].c(),v(i[s],1),i[s].m(a,null))}for(b(),s=r.length;s<i.length;s+=1)m(s);E()}},i(t){if(!e){for(let t=0;t<r.length;t+=1)v(i[t]);e=!0}},o(t){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)x(i[a]);e=!1},d(t){t&&o(a),y(i,t)}}}function M(t,a,e){let{items:s=[]}=a;return t.$$set=t=>{"items"in t&&e(0,s=t.items)},[s]}class W extends t{constructor(t){super(),a(this,t,M,K,e,{items:0})}}const{document:tt}=A;function at(t){let a,e,u,d,b,E,y,U,A,L,_,B,G,H,Q,R,X,Z,q,z,K,M,at,et,st,rt,nt,lt,it,ot,ct,ft,mt,ut,dt,$t,ht,pt,gt,kt,vt,xt,wt=`\n    <meta id="random-clips-url" data-url="${t[3]}"><\/script>\n    `;return tt.title=a=N+" - "+T,U=new O({props:{title:"Yleisimmät aiheet"}}),_=new P({props:{facet:"topic_facet",facets:t[1],truncate:!0}}),Z=new O({props:{title:"Poimintoja"}}),K=new I({props:{class:"inline-block",icon:D}}),at=new J({props:{records:t[0]}}),ft=new O({props:{title:"Aikakausi"}}),ut=new W({props:{items:F}}),ht=new O({props:{title:"Genret"}}),gt=new P({props:{truncate:!1,facet:"genre_facet",facets:t[2]}}),{c(){e=new V,u=j(),d=h(),b=s("section"),E=s("div"),y=s("div"),$(U.$$.fragment),A=h(),L=s("div"),$(_.$$.fragment),B=h(),G=s("div"),H=s("div"),Q=s("div"),R=s("div"),X=s("div"),$(Z.$$.fragment),q=h(),z=s("div"),$(K.$$.fragment),M=h(),$(at.$$.fragment),et=h(),st=s("a"),rt=s("div"),nt=s("div"),lt=s("div"),it=r("Selaa elokuvia"),ot=h(),ct=s("div"),$(ft.$$.fragment),mt=h(),$(ut.$$.fragment),dt=h(),$t=s("div"),$(ht.$$.fragment),pt=h(),$(gt.$$.fragment),this.h()},l(t){const a=C('[data-svelte="svelte-1ikc3m1"]',tt.head);e=S(a),u=j(),a.forEach(o),d=g(t),b=n(t,"SECTION",{});var s=l(b);E=n(s,"DIV",{class:!0});var r=l(E);y=n(r,"DIV",{class:!0});var c=l(y);p(U.$$.fragment,c),A=g(c),L=n(c,"DIV",{class:!0});var f=l(L);p(_.$$.fragment,f),f.forEach(o),B=g(c),G=n(c,"DIV",{class:!0});var m=l(G);H=n(m,"DIV",{class:!0});var $=l(H);Q=n($,"DIV",{class:!0});var h=l(Q);R=n(h,"DIV",{class:!0});var k=l(R);X=n(k,"DIV",{class:!0});var v=l(X);p(Z.$$.fragment,v),q=g(v),z=n(v,"DIV",{class:!0,role:!0,title:!0});var x=l(z);p(K.$$.fragment,x),x.forEach(o),v.forEach(o),M=g(k),p(at.$$.fragment,k),et=g(k),st=n(k,"A",{href:!0});var w=l(st);rt=n(w,"DIV",{role:!0,class:!0});var I=l(rt);nt=n(I,"DIV",{class:!0});var D=l(nt);lt=n(D,"DIV",{class:!0});var V=l(lt);it=i(V,"Selaa elokuvia"),V.forEach(o),D.forEach(o),I.forEach(o),w.forEach(o),k.forEach(o),h.forEach(o),ot=g($),ct=n($,"DIV",{});var Y=l(ct);p(ft.$$.fragment,Y),mt=g(Y),p(ut.$$.fragment,Y),Y.forEach(o),dt=g($),$t=n($,"DIV",{class:!0});var N=l($t);p(ht.$$.fragment,N),pt=g(N),p(gt.$$.fragment,N),N.forEach(o),$.forEach(o),m.forEach(o),c.forEach(o),r.forEach(o),s.forEach(o),this.h()},h(){e.a=u,c(L,"class","w-full"),c(z,"class","cursor-pointer active:text-pink-500"),c(z,"role","button"),c(z,"title","Näytä lisää poimintoja"),c(X,"class","flex items-center mb-1"),c(lt,"class","inline-flex"),c(nt,"class","flex justify-center items-center"),c(rt,"role","button"),c(rt,"class","inline-flex mt-6 mb-4 py-3 px-4 text-md subpixel-antialiased font-medium tracking-tight rounded-xl bg-gray-200 text-gray-900 hover:text-black hover:bg-white cursor-pointer bg-gradient-to-b from-gray-100 to-gray-300 ripple-bg-white"),c(st,"href","/browse?facet=clips"),c(R,"class","flex flex-col text-center"),c(Q,"class","mt-3"),c($t,"class","mt-2"),c(H,"class","flex flex-col flex-wrap md:flex-nowrap"),c(G,"class","w-full"),c(y,"class","flex flex-col flex-wrap md:flex-nowrap"),c(E,"class","w-full")},m(a,s){e.m(wt,tt.head),m(tt.head,u),f(a,d,s),f(a,b,s),m(b,E),m(E,y),k(U,y,null),m(y,A),m(y,L),k(_,L,null),m(y,B),m(y,G),m(G,H),m(H,Q),m(Q,R),m(R,X),k(Z,X,null),m(X,q),m(X,z),k(K,z,null),m(R,M),k(at,R,null),m(R,et),m(R,st),m(st,rt),m(rt,nt),m(nt,lt),m(lt,it),m(H,ot),m(H,ct),k(ft,ct,null),m(ct,mt),k(ut,ct,null),m(H,dt),m(H,$t),k(ht,$t,null),m($t,pt),k(gt,$t,null),kt=!0,vt||(xt=Y(z,"click",t[4]),vt=!0)},p(t,[s]){(!kt||0&s)&&a!==(a=N+" - "+T)&&(tt.title=a),(!kt||8&s)&&wt!==(wt=`\n    <meta id="random-clips-url" data-url="${t[3]}"><\/script>\n    `)&&e.p(wt);const r={};2&s&&(r.facets=t[1]),_.$set(r);const n={};1&s&&(n.records=t[0]),at.$set(n);const l={};4&s&&(l.facets=t[2]),gt.$set(l)},i(t){kt||(v(U.$$.fragment,t),v(_.$$.fragment,t),v(Z.$$.fragment,t),v(K.$$.fragment,t),v(at.$$.fragment,t),v(ft.$$.fragment,t),v(ut.$$.fragment,t),v(ht.$$.fragment,t),v(gt.$$.fragment,t),kt=!0)},o(t){x(U.$$.fragment,t),x(_.$$.fragment,t),x(Z.$$.fragment,t),x(K.$$.fragment,t),x(at.$$.fragment,t),x(ft.$$.fragment,t),x(ut.$$.fragment,t),x(ht.$$.fragment,t),x(gt.$$.fragment,t),kt=!1},d(t){o(u),t&&e.d(),t&&o(d),t&&o(b),w(U),w(_),w(Z),w(K),w(at),w(ft),w(ut),w(ht),w(gt),vt=!1,xt()}}}const et=async({fetch:t})=>{let a=Q();{const t=document.getElementById("random-clips-url");t&&(a=t.getAttribute("data-url"))}const e=G(t,a),[{records:s}]=await H([e]);return{props:{genres:["dokumentti","mainos","esittelyelokuva","ajankohtaisdokumentti","alueellinen kuvaus","tilauselokuva","teollisuusdokumentti","urheiludokumentti","kotiseutuelokuva","ammatinkuvaus","juhlaelokuva","valistuselokuva","kansatieteellinen elokuva","animaatio","fiktio & dokumentti","fiktio","henkilödokumentti","matkailuelokuva","draamadokumentti","sotadokumentti","tv-tuotanto","opetuselokuva","maatalousdokumentti","historiallinen dokumentti","tiedotuselokuva","yhteiskunnallinen dokumentti","perinne-elokuva","tietoisku","musiikkidokumentti","taidedokumentti"],randomClips:s,randomClipsUrl:a,topics:["Helsinki","autot","vaatteet","kirkkorakennukset","Lappi","henkilöautot","elintarvikkeet","laivat","rakentaminen","satamat","Suomi","tehtaat","urheilu","lapset","kahvi","kalastus","patsaat","pankit","matkailu","virvoitusjuomat","juhlat","muoti","nuoret","hygienia","hiihto","maatalous","ravintolat","Tampere","liikenne","pesuaineet"]}}};function st(t,a,e){let s;U(t,_,(t=>e(5,s=t)));let{topics:r=[]}=a,{genres:n=[]}=a,{randomClips:l=[]}=a,{randomClipsUrl:i=""}=a;return t.$$set=t=>{"topics"in t&&e(1,r=t.topics),"genres"in t&&e(2,n=t.genres),"randomClips"in t&&e(0,l=t.randomClips),"randomClipsUrl"in t&&e(3,i=t.randomClipsUrl)},[l,r,n,i,async()=>{L(_,s="loading",s);const{records:t}=await G(fetch,Q());L(_,s="loaded",s),e(0,l=t)}]}class rt extends t{constructor(t){super(),a(this,t,st,at,e,{topics:1,genres:2,randomClips:0,randomClipsUrl:3})}}export{rt as default,et as load};
